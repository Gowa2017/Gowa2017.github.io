<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>RxJava的一些基本概念及文档 | 退思园</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.3"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.3"></script><script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.3"></script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">RxJava的一些基本概念及文档</h1><a id="logo" href="/.">退思园</a><p class="description">烦恼一般都是想太多了。</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/workflow"><i class="fa fa-rss"> workflow</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">RxJava的一些基本概念及文档</h1><div class="post-meta"><a href="/RxJava/RxJava的一些基本概念及文档.html#comments" class="comment-count"><i data-disqus-identifier="RxJava/RxJava的一些基本概念及文档.html" class="disqus-comment-count"></i>留言</a><p><span class="date">Apr 04, 2019</span><span><a href="/categories/RxJava/" class="category">RxJava</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>一直以来都很想在项目中使用这个东西。但是以前没有时间，对 <strong>观察者</strong> 模式也不太理解。但最终要重新写模块的时候，发现，对于多个网络请求进行合并处理的话，交给 RxJava 是比较简单的，而不用我们自己去在 Handler 进行非常头疼的处理。</p>
<a id="more"></a>
<p>关于一些理论性的东西可以查看 <a href="http://reactivex.io" target="_blank" rel="noopener">官方文档</a></p>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>在编程任务中，我们或多或少都希望点写的代码能够按照我们的编写的顺序执行。但是在 ReactiveX 中，指令可能会并行执行然后 <em>观察者Observer</em> 以任意的顺序捕捉他们的结果。</p>
<p>与调用一个方法不同，我们以 <em>Observables</em> 的形式定义了一个获取和转换数据的机制，然后为其 “订阅” 一个 <em>Observer</em> ：这时，我们之前定义的机制 <em>Observables</em> 就开始动作，而 <em>Observer</em> 也准备好了捕捉其发射的数据并作出响应。</p>
<p>这样做的一个好处是，当我们有一堆的任务需要制定，而彼此之间又互不依赖的时候，我们可以同时启动这些任务，而不是一个一个的去执行————我们所有任务的执行时间只会和其中耗费时间最长的一个相等。</p>
<p>对于描述这种异步编程有很多术语。我们的文档中会使用 </p>
<ul>
<li><strong>Observer subscribe Observables</strong> 观察者 订阅 可观察对象</li>
<li><strong>Observables emits items or send notifications by calling observers’s method</strong> 可观察对象通过调用观察者的方法来发射数据或者通知。<h1 id="Reactive-Streams-基本接口"><a href="#Reactive-Streams-基本接口" class="headerlink" title="Reactive Streams 基本接口"></a>Reactive Streams 基本接口</h1></li>
</ul>
<p>首先我们要明确： Reactive Streams 是一个进行响应式编程的规范，而 RxJava 是 Reactive Streams 2.0 版本一个 Java 实现。有很多语言或者说很多库都对 Reactive Streams 进行了实现。</p>
<p>对于 Reactive Streams 其定义了几个基本的接口：</p>
<ul>
<li><code>Publisher&lt;T&gt;</code> 一个 <em>Publisher</em> 是一个可能无限序列元素的提供者，其根据 <em>Subscriber</em>(S) 的需求进行发布。一个 <em>Publisher</em> 可能会与多个 <em>Subscriber</em> 相关联。</li>
<li><code>Subscriber&lt;T&gt;</code> 当我们提供一个 <em>Subscriber</em>  的实例给 <code>Publisher.subscribe(Subscriber)</code> 的时候，<em>Subscriber</em> 的 <code>onSubscribe(Subscription)</code> 方法会被调用。只有当 <code>Subscription.request(long)</code> 被调用的时候，<em>Subscriber</em> 才会收到通知。</li>
<li><code>Processor&lt;T,R&gt;</code>  <em>Processor</em> 代表了一个处理阶段 ———— 其即是一个 <em>Publisher</em> ，也是一个 <em>Subscriber</em>，并遵守两者的一些约束。</li>
<li><code>Subscription</code> <em>Subscription</em> 表示 <em>Subscriber</em> 与 <em>Publisher</em> 之间一对一的生命周期。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Publisher</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(Subscriber&lt;? <span class="keyword">super</span> T&gt; var1)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subscriber</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onSubscribe</span><span class="params">(Subscription var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onNext</span><span class="params">(T var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onComplete</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Processor</span>&lt;<span class="title">T</span>, <span class="title">R</span>&gt; <span class="keyword">extends</span> <span class="title">Subscriber</span>&lt;<span class="title">T</span>&gt;, <span class="title">Publisher</span>&lt;<span class="title">R</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subscription</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">request</span><span class="params">(<span class="keyword">long</span> var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">cancel</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Publisher"><a href="#Publisher" class="headerlink" title="Publisher"></a>Publisher</h2><p>在 RxJava 2 中， Flowable 实现了 <em>Publisher</em> 接口。但是对于 <em>Observable, Single, Completable, Maybe</em> 却不是直接的实现了 <em>Publisher</em>。</p>
<h2 id="Subscriber"><a href="#Subscriber" class="headerlink" title="Subscriber"></a>Subscriber</h2><p>当以这种形式 <code>Publisher.subscribe(Subscriber)</code> 执行代码的时候，在 <em>Publisher</em> 和 <em>Subscriber</em> 间有一个 <em>Subscription</em> 作为桥梁进行通信。</p>
<p>一个 <em>Subscriber</em> 必须通过  <code>Subscription.request(long n)</code> 来发送请求信号，然后 <em>Publisher</em> 才会调用  <code>onNext()</code>。</p>
<h2 id="Subscription"><a href="#Subscription" class="headerlink" title="Subscription"></a>Subscription</h2><p><code>Subscription.request(), Subscription.cancel()</code> 必须在 <em>Subscriber</em> 上下文内执行。</p>
<h1 id="工作过程"><a href="#工作过程" class="headerlink" title="工作过程"></a>工作过程</h1><p><code>Publisher.subscribe(Subscriber)</code> 执行过程中，其实内部会有一个 <em>Subscription</em>， <em>Subscriber</em> 持有这个 <em>Subscription</em>，以此来向 <em>Publisher</em> 发送信号。</p>
<h1 id="Observable"><a href="#Observable" class="headerlink" title="Observable"></a>Observable</h1><p>对于 <em>Observable, Single, Completable, Maybe</em> 都不是直接的实现 <em>Publisher</em> ，那么它又是怎么实现的。其实他们实现的是一个与 <em>Publisher</em> 相似的接口：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ObservableSource</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Subscribes the given Observer to this ObservableSource instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer the Observer, not null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if &#123;<span class="doctag">@code</span> observer&#125; is null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(@NonNull Observer&lt;? <span class="keyword">super</span> T&gt; observer)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SingleSource</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Subscribes the given SingleObserver to this SingleSource instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer the SingleObserver, not null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if &#123;<span class="doctag">@code</span> observer&#125; is null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(@NonNull SingleObserver&lt;? <span class="keyword">super</span> T&gt; observer)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CompletableSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Subscribes the given CompletableObserver to this CompletableSource instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> co the CompletableObserver, not null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if &#123;<span class="doctag">@code</span> co&#125; is null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(@NonNull CompletableObserver co)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MaybeSource</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Subscribes the given MaybeObserver to this MaybeSource instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer the MaybeObserver, not null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if &#123;<span class="doctag">@code</span> observer&#125; is null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(@NonNull MaybeObserver&lt;? <span class="keyword">super</span> T&gt; observer)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onSubscribe</span><span class="params">(@NonNull Disposable var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onNext</span><span class="params">(@NonNull T var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onError</span><span class="params">(@NonNull Throwable var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onComplete</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 所有的 Observable 都要实现 subscribeActual 方法。在这个方法中决定是如何发射数据 使用哪种 Subscription 来通知Subcriber</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Observable</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">ObservableSource</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(Observer&lt;? <span class="keyword">super</span> T&gt; var1)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>所以，再不用傻傻的疑问，为什么看起来 RxJava 2 很多地方并没有用到定义的几个基本接口了，但是概念是相似的一致的</strong>。</p>
<p>其基本的工作形式是一样的：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Publisher.subscribe(Subscriber&lt;? <span class="keyword">super</span> T&gt; var1);</span><br><span class="line">Observable.subscribe(Observer&lt;? <span class="keyword">super</span> T&gt; observer))</span><br></pre></td></tr></table></figure>
<p>使用 <code>subscribe()</code> 方法，在 发布者与订阅者（可观察对象与观察者）间建立了联系，发布者（可观察对象）会在后续发射数据的时候，通知 订阅者（观察者）。</p>
<h1 id="基本类"><a href="#基本类" class="headerlink" title="基本类"></a>基本类</h1><p><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener">RxJava的项目地址在这里</a></p>
<p>RxJava 2 的特性由几个基本的类上进行操作来体现：</p>
<ul>
<li>io.reactivex.Flowable: 0..N 流, 支持 Reactive-Streams 和背压</li>
<li>io.reactivex.Observable: 0..N 流,不支持背压</li>
<li>io.reactivex.Single: 只有一项数据或错误的流。</li>
<li>io.reactivex.Completable: 只有一个完成或者错误信号的流</li>
<li>io.reactivex.Maybe:一个没有数据项，或者只有一个项，或只有一个错误的流。</li>
</ul>
<p>根据我的观察， Flowable 实现了 Reactive-Streams 的 Publisher* 接口。</p>
<p>一个例子：</p>
<h1 id="Flowable-例子"><a href="#Flowable-例子" class="headerlink" title="Flowable 例子"></a>Flowable 例子</h1><p>Flowable 实现了 <em>Publisher</em> 接口。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> io.reactivex.functions.Consumer;</span><br><span class="line"></span><br><span class="line">Flowable.just(<span class="string">"Hello world"</span>)</span><br><span class="line">  .subscribe(<span class="keyword">new</span> Consumer&lt;String&gt;() &#123;</span><br><span class="line">      <span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">          System.out.println(s);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>可能会有疑问，不是应该 subscribe(Subcriber) 么，为什么这里是一个 Consumer 呢，其实这只是一个简化而已，最终还是使用了 Subscriber 的。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 可以看到，只有 onNext 是我们定义的 Consumer ，而 onSubscribe 则会弄成了内部的实现 RequestMax.INSTANCE</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Disposable <span class="title">subscribe</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; onNext)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subscribe(onNext, Functions.ON_ERROR_MISSING, Functions.EMPTY_ACTION, RequestMax.INSTANCE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造了应该 Subscriber  LambdaSubscriber</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Disposable <span class="title">subscribe</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; onNext, Consumer&lt;? <span class="keyword">super</span> Throwable&gt; onError, Action onComplete, Consumer&lt;? <span class="keyword">super</span> Subscription&gt; onSubscribe)</span> </span>&#123;</span><br><span class="line">    ObjectHelper.requireNonNull(onNext, <span class="string">"onNext is null"</span>);</span><br><span class="line">    ObjectHelper.requireNonNull(onError, <span class="string">"onError is null"</span>);</span><br><span class="line">    ObjectHelper.requireNonNull(onComplete, <span class="string">"onComplete is null"</span>);</span><br><span class="line">    ObjectHelper.requireNonNull(onSubscribe, <span class="string">"onSubscribe is null"</span>);</span><br><span class="line">    LambdaSubscriber&lt;T&gt; ls = <span class="keyword">new</span> LambdaSubscriber(onNext, onError, onComplete, onSubscribe);</span><br><span class="line">    <span class="keyword">this</span>.subscribe((FlowableSubscriber)ls);</span><br><span class="line">    <span class="keyword">return</span> ls;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(FlowableSubscriber&lt;? <span class="keyword">super</span> T&gt; s)</span> </span>&#123;</span><br><span class="line">    ObjectHelper.requireNonNull(s, <span class="string">"s is null"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Subscriber&lt;? <span class="keyword">super</span> T&gt; z = RxJavaPlugins.onSubscribe(<span class="keyword">this</span>, s);</span><br><span class="line">        ObjectHelper.requireNonNull(z, <span class="string">"The RxJavaPlugins.onSubscribe hook returned a null FlowableSubscriber. Please check the handler provided to RxJavaPlugins.setOnFlowableSubscribe for invalid null returns. Further reading: https://github.com/ReactiveX/RxJava/wiki/Plugins"</span>);</span><br><span class="line">        <span class="keyword">this</span>.subscribeActual(z);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NullPointerException var4) &#123;</span><br><span class="line">        <span class="keyword">throw</span> var4;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable var5) &#123;</span><br><span class="line">        Exceptions.throwIfFatal(var5);</span><br><span class="line">        RxJavaPlugins.onError(var5);</span><br><span class="line">        NullPointerException npe = <span class="keyword">new</span> NullPointerException(<span class="string">"Actually not, but can't throw other exceptions due to RS"</span>);</span><br><span class="line">        npe.initCause(var5);</span><br><span class="line">        <span class="keyword">throw</span> npe;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(Subscriber&lt;? <span class="keyword">super</span> T&gt; var1)</span></span>;</span><br></pre></td></tr></table></figure>
<p>当我们以 Flowable.just() 的形式建立一个 Flowable 的时候，实际上是返回的是：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">FlowableJust</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Flowable</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">ScalarCallable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> T value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FlowableJust</span><span class="params">(T value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(Subscriber&lt;? <span class="keyword">super</span> T&gt; s)</span> </span>&#123;</span><br><span class="line">        s.onSubscribe(<span class="keyword">new</span> ScalarSubscription(s, <span class="keyword">this</span>.value));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">call</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最终我们真实代码的 实现应该是:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FlowableJust&lt;String&gt;.subscribeActual(LambdaSubscriber s);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(LambdaSubscriber s)</span> </span>&#123;</span><br><span class="line">    s.onSubscribe(<span class="keyword">new</span> ScalarSubscription(s, <span class="keyword">this</span>.value));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>在这里，就出现了我们用  <em>Subscription(ScalarSubscription)</em> 将 <em>Publisher(FlowableJust)</em> 和 <em>Subscriber(LambdaSubscriber,Consumer)</em> 相关联的事实。</strong></p>
<p>前面说到：</p>
<p><strong>Subscriber</strong> 通过调用 <em>Subscription</em> 的 <code>request()</code> 方法来请求数据。</p>
<p>继续往下查看代码的执行流会发现，确实是这样的:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSubscribe</span><span class="params">(Subscription s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (SubscriptionHelper.setOnce(<span class="keyword">this</span>, s)) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.onSubscribe.accept(<span class="keyword">this</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable var3) &#123;</span><br><span class="line">            Exceptions.throwIfFatal(var3);</span><br><span class="line">            s.cancel();</span><br><span class="line">            <span class="keyword">this</span>.onError(var3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">enum</span> RequestMax implements Consumer&lt;Subscription&gt; &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">RequestMax</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Subscription t)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        t.request(<span class="number">9223372036854775807L</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">request</span><span class="params">(<span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (SubscriptionHelper.validate(n)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.compareAndSet(<span class="number">0</span>, <span class="number">1</span>)) &#123;</span><br><span class="line">            Subscriber&lt;? <span class="keyword">super</span> T&gt; s = <span class="keyword">this</span>.subscriber;</span><br><span class="line">            s.onNext(<span class="keyword">this</span>.value);</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.get() != <span class="number">2</span>) &#123;</span><br><span class="line">                s.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>总结一下执行流程：</p>
<ol>
<li>Flowable.just() 会返回一个 FlowableJust<string> 对象。</string></li>
<li>Flowable.subscribe(Consumer) 会封装一个 LambdaSubscriber，其中 onSubscribe 会设置为  RequestMax.INSTANCE 此对象的 accept 方法会直接调用 Subscription 的 request 方法。</li>
<li>FlowableJust.subscribeActual(LambdaSubscriber) 会使用 ScalarSubscription 来调用 LambdaSubscriber.onSubscribe() 方法。</li>
<li>调用  ScalarSubscription.accept()，最终，将值直接丢给了 LambdaSubscriber.onSubscribe。</li>
</ol>
<p>事实上关键在于：不同的 发布者 (FlowableJust, FlowableRange …) 会使用不同的 Subscription（ScalarSubscription，FlowableRange.RangeConditionalSubscription())来通知 Subscriber。</p>
<p>Publisher subscribe  Subcriber 过程其实是是 Publisher 以一个 Subcription 作为参数调用  Subcriber 的 onSubscribe 方法。</p>
<h1 id="Observable-例子"><a href="#Observable-例子" class="headerlink" title="Observable 例子"></a>Observable 例子</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Observable.range(<span class="number">1</span>,<span class="number">10</span>).subscribe(<span class="keyword">new</span> Consumer&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol>
<li>Observable.range(1,10) 返回 ObservableRange。</li>
<li>ObservableRange 构造 LambdaObserver(onNext, Functions.ON_ERROR_MISSING, Functions.EMPTY_ACTION, Functions.emptyConsumer()）</li>
<li>ObservableRange.subscribeActual(LambdaObserver o) 会使用 ObservableRange.RangeDisposable 来通知 LambdaObserver。<code>LambdaObserver.onSubscribe(ObservableRange.RangeDisposable)</code></li>
<li>ObservableRange.RangeDisposable.run() 开始发射数据。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">RangeDisposable</span> <span class="keyword">extends</span> <span class="title">BasicIntQueueDisposable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">396518478098735504L</span>;</span><br><span class="line">    <span class="keyword">final</span> Observer&lt;? <span class="keyword">super</span> Integer&gt; downstream;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">long</span> end;</span><br><span class="line">    <span class="keyword">long</span> index;</span><br><span class="line">    <span class="keyword">boolean</span> fused;</span><br><span class="line"></span><br><span class="line">    RangeDisposable(Observer&lt;? <span class="keyword">super</span> Integer&gt; actual, <span class="keyword">long</span> start, <span class="keyword">long</span> end) &#123;</span><br><span class="line">        <span class="keyword">this</span>.downstream = actual;</span><br><span class="line">        <span class="keyword">this</span>.index = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.fused) &#123;</span><br><span class="line">            Observer&lt;? <span class="keyword">super</span> Integer&gt; actual = <span class="keyword">this</span>.downstream;</span><br><span class="line">            <span class="keyword">long</span> e = <span class="keyword">this</span>.end;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">long</span> i = <span class="keyword">this</span>.index; i != e &amp;&amp; <span class="keyword">this</span>.get() == <span class="number">0</span>; ++i) &#123;</span><br><span class="line">                actual.onNext((<span class="keyword">int</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.get() == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.lazySet(<span class="number">1</span>);</span><br><span class="line">                actual.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="Observerable-create"><a href="#Observerable-create" class="headerlink" title="Observerable.create()"></a>Observerable.create()</h1><p>我们再开看一个更通用一些的，底层一些的做法。根据 <a href="http://reactivex.io/documentation/operators/create.html" target="_blank" rel="noopener">Reactivx对于Create操作符的定义</a>。</p>
<p><em>Create</em> 操作符可以让我们以最基本的方式来建立一个 <em>Observable</em>。对操作符 <em>Create</em> 传递一个以 <em>Observer</em> 作为参数的函数。就是这个函数，可以让我们建立的对象看起来就像一个 <em>Observable</em> ————也就是适当的调用 <em>Observer</em> 的 <code>onNext, onError, onCompleted</code> 方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@CheckReturnValue</span></span><br><span class="line"> <span class="meta">@NonNull</span></span><br><span class="line"> <span class="meta">@SchedulerSupport</span>(value=<span class="string">"none"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Observable&lt;T&gt; <span class="title">create</span><span class="params">(ObservableOnSubscribe&lt;T&gt; source)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> ObservableOnSubscribe&lt;String&gt;() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(ObservableEmitter&lt;String&gt; emitter)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        emitter.onNext(<span class="string">"hello world"</span>);</span><br><span class="line">        emitter.onComplete();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(System.out::println);</span><br></pre></td></tr></table></figure>
<p>查看源码，此方法返回的是一个 ObservableCreate 对象。其以我们实现的 ObservableOnSubscribe 接口（数据发射逻辑）作为参数。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Observable&lt;T&gt; <span class="title">create</span><span class="params">(ObservableOnSubscribe&lt;T&gt; source)</span> </span>&#123;</span><br><span class="line">    ObjectHelper.requireNonNull(source, <span class="string">"source is null"</span>);</span><br><span class="line">    <span class="keyword">return</span> RxJavaPlugins.onAssembly(<span class="keyword">new</span> ObservableCreate&lt;T&gt;(source));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ObservableCreate</span><span class="params">(ObservableOnSubscribe&lt;T&gt; source)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.source = source;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们也知道，当我们调用  <em>Observable.subscribe()</em> 方法的时候，实际上调用的是 Observable 具体实现的 <code>subscribeActual()</code> 方法。</p>
<p>在此方法中我们看到，为 Observer 建立了一个 <em>CreateEmitter</em>，然后我们的 Observable 就会调用这个 CreateEmitter 来发射数据。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(Observer&lt;? <span class="keyword">super</span> T&gt; observer)</span> </span>&#123;</span><br><span class="line">    CreateEmitter&lt;T&gt; parent = <span class="keyword">new</span> CreateEmitter&lt;T&gt;(observer);</span><br><span class="line">    observer.onSubscribe(parent);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        source.subscribe(parent);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">        Exceptions.throwIfFatal(ex);</span><br><span class="line">        parent.onError(ex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面代码的过程我们可以总结出：</p>
<ol>
<li>Observable.create(ObservableOnSubscribe) 会返回一个 Observable 对象，同时内部建立一个 CreateEmitter。</li>
<li>当返回对象的 <code>subscribe()</code>方法被调用时，会将　CreateEmitter 作为 Disposable 递交给 Observer。（Disposable 与 Subscription 作用一致，不过是为了避免概念上的混淆）。</li>
<li>返回对象对调用 ObservableOnSubscribe.subscribe(CreateEmitter) 开始我们的发射逻辑。</li>
<li>CreateEmitter 持有了 Observer ，所以其可以将信号递交给 Observer。</li>
</ol>
<p>事实上，当我们调用 <code>CreateEmitter.onNext()</code> 的时候，最终还是调用的 <code>Observer.onNext()</code>：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateEmitter</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class">   <span class="keyword">extends</span> <span class="title">AtomicReference</span>&lt;<span class="title">Disposable</span>&gt;</span></span><br><span class="line"><span class="class">   <span class="keyword">implements</span> <span class="title">ObservableEmitter</span>&lt;<span class="title">T</span>&gt;, <span class="title">Disposable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">3434801548987643227L</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">final</span> Observer&lt;? <span class="keyword">super</span> T&gt; observer;</span><br><span class="line"></span><br><span class="line">       CreateEmitter(Observer&lt;? <span class="keyword">super</span> T&gt; observer) &#123;</span><br><span class="line">           <span class="keyword">this</span>.observer = observer;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</span><br><span class="line">               onError(<span class="keyword">new</span> NullPointerException(<span class="string">"onNext called with null. Null values are generally not allowed in 2.x operators and sources."</span>));</span><br><span class="line">               <span class="keyword">return</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (!isDisposed()) &#123;</span><br><span class="line">               observer.onNext(t);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable t)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (!tryOnError(t)) &#123;</span><br><span class="line">               RxJavaPlugins.onError(t);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// .....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个并不是以 <em>Subscription</em> <code>request()</code>来请求数据的欸。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ol>
<li>Observable<t> 需要实现 <code>protected abstract void subscribeActual(Observer&lt;? super T&gt; var1);</code> 方法。</t></li>
<li>在 subscribeActual 需要实现是 Disposable 来通知 Observer 的具体逻辑。</li>
</ol>
<h1 id="Subscription-与-Disposable"><a href="#Subscription-与-Disposable" class="headerlink" title="Subscription 与 Disposable"></a>Subscription 与 Disposable</h1><p>在 RxJava 1 中， rx.Subscription 响应流及源生命周期管理，也即是取消对一个序列的订阅和释放一般资源（如调度任务）。</p>
<p>Reactive-Streams 规范使用了这个名字来指明一个 source 与 consumer 间的交互点：<em>org.reactivestreams.Subscription</em>允许从上游请求数据和取消这个序列。</p>
<p>为了避免名称上的冲突，所以将 rx.Subscription 更名为 io.reactivex.Disposable。</p>
</div><div class="post-copyright"><blockquote><p>原文作者: Gowa2017 Zhang</p><p>原文链接: <a href="https://gowa2017.github.io/RxJava/RxJava的一些基本概念及文档.html">https://gowa2017.github.io/RxJava/RxJava的一些基本概念及文档.html</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/Java/">Java</a><a href="/tags/Android/">Android</a><a href="/tags/RxJava/">RxJava</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/Android/Retrofit对象的建立及与RxJava的使用.html" class="pre">Retrofit对象的建立及与RxJava的使用</a><a href="/Android/View的绘制过程.html" class="next">View的绘制过程</a></div><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#背景"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reactive-Streams-基本接口"><span class="toc-text">Reactive Streams 基本接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Publisher"><span class="toc-text">Publisher</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Subscriber"><span class="toc-text">Subscriber</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Subscription"><span class="toc-text">Subscription</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#工作过程"><span class="toc-text">工作过程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Observable"><span class="toc-text">Observable</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#基本类"><span class="toc-text">基本类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Flowable-例子"><span class="toc-text">Flowable 例子</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Observable-例子"><span class="toc-text">Observable 例子</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Observerable-create"><span class="toc-text">Observerable.create()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Subscription-与-Disposable"><span class="toc-text">Subscription 与 Disposable</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/Android/Hooking-Linux中的共享库函数.html">Hooking-Linux中的共享库函数</a></li><li class="post-list-item"><a class="post-list-link" href="/Android/Riru来注入Zygote进程.html">Riru来注入Zygote进程</a></li><li class="post-list-item"><a class="post-list-link" href="/Android/Android的权限检查过程.html">Android的权限检查过程</a></li><li class="post-list-item"><a class="post-list-link" href="/Android/Android的服务管理.html">Android的服务管理</a></li><li class="post-list-item"><a class="post-list-link" href="/Cpp/使用Clang进行交叉编译.html">使用Clang进行交叉编译</a></li><li class="post-list-item"><a class="post-list-link" href="/Cocos-Creator/Cocos-Creator安卓下的启动流程.html">Cocos-Creator安卓下的启动流程</a></li><li class="post-list-item"><a class="post-list-link" href="/Android/Android中模拟输入的实现.html">Android中模拟输入的实现</a></li><li class="post-list-item"><a class="post-list-link" href="/Lua/Lua中的协程.html">Lua中的协程</a></li><li class="post-list-item"><a class="post-list-link" href="/Android/Auto.js截图后在相册无法立即显示.html">Auto.js截图后在相册无法立即显示</a></li><li class="post-list-item"><a class="post-list-link" href="/Lua/luasocket中的http实现.html">luasocket中的http实现</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Asm/">Asm</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cocos-Creator/">Cocos Creator</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cocos2d-X/">Cocos2d-X</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cpp/">Cpp</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Device/">Device</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GTD/">GTD</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/">Golang</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">42</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kindle/">Kindle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Unix/">Linux/Unix</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lua/">Lua</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Misc/">Misc</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RxJava/">RxJava</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP/IP</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vim/">Vim</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/macOS/">macOS</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">25</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/brew/" style="font-size: 15px;">brew</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Golang/" style="font-size: 15px;">Golang</a> <a href="/tags/Lua/" style="font-size: 15px;">Lua</a> <a href="/tags/Cocos2d-X/" style="font-size: 15px;">Cocos2d-X</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/LVM/" style="font-size: 15px;">LVM</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/RxJava/" style="font-size: 15px;">RxJava</a> <a href="/tags/REST/" style="font-size: 15px;">REST</a> <a href="/tags/Maven/" style="font-size: 15px;">Maven</a> <a href="/tags/VNC/" style="font-size: 15px;">VNC</a> <a href="/tags/Docx/" style="font-size: 15px;">Docx</a> <a href="/tags/SSH/" style="font-size: 15px;">SSH</a> <a href="/tags/X5/" style="font-size: 15px;">X5</a> <a href="/tags/Tbs/" style="font-size: 15px;">Tbs</a> <a href="/tags/Cocos-Creator/" style="font-size: 15px;">Cocos Creator</a> <a href="/tags/TensorFlow/" style="font-size: 15px;">TensorFlow</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/ML/" style="font-size: 15px;">ML</a> <a href="/tags/Oracle/" style="font-size: 15px;">Oracle</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/Sqlplus/" style="font-size: 15px;">Sqlplus</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/Dagger/" style="font-size: 15px;">Dagger</a> <a href="/tags/PAC/" style="font-size: 15px;">PAC</a> <a href="/tags/NFS/" style="font-size: 15px;">NFS</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Promise/" style="font-size: 15px;">Promise</a> <a href="/tags/Pomelo/" style="font-size: 15px;">Pomelo</a> <a href="/tags/Retrofit/" style="font-size: 15px;">Retrofit</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/Gson/" style="font-size: 15px;">Gson</a> <a href="/tags/GTD/" style="font-size: 15px;">GTD</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/Room/" style="font-size: 15px;">Room</a> <a href="/tags/Windows/" style="font-size: 15px;">Windows</a> <a href="/tags/MFC/" style="font-size: 15px;">MFC</a> <a href="/tags/Cpp/" style="font-size: 15px;">Cpp</a> <a href="/tags/Asm/" style="font-size: 15px;">Asm</a> <a href="/tags/RegEx/" style="font-size: 15px;">RegEx</a> <a href="/tags/Kindle/" style="font-size: 15px;">Kindle</a> <a href="/tags/F5/" style="font-size: 15px;">F5</a> <a href="/tags/负载均衡/" style="font-size: 15px;">负载均衡</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/OSPF/" style="font-size: 15px;">OSPF</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/Oralce/" style="font-size: 15px;">Oralce</a> <a href="/tags/Device/" style="font-size: 15px;">Device</a> <a href="/tags/Raid/" style="font-size: 15px;">Raid</a> <a href="/tags/磁盘阵列/" style="font-size: 15px;">磁盘阵列</a> <a href="/tags/Github/" style="font-size: 15px;">Github</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Php/" style="font-size: 15px;">Php</a> <a href="/tags/The-Java-Tutorial/" style="font-size: 15px;">The Java Tutorial</a> <a href="/tags/MVP/" style="font-size: 15px;">MVP</a> <a href="/tags/Svn/" style="font-size: 15px;">Svn</a> <a href="/tags/networksetup/" style="font-size: 15px;">networksetup</a> <a href="/tags/Poi/" style="font-size: 15px;">Poi</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 15px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 15px;">Tomcat</a> <a href="/tags/VIM/" style="font-size: 15px;">VIM</a> <a href="/tags/PIL/" style="font-size: 15px;">PIL</a> <a href="/tags/DHCP/" style="font-size: 15px;">DHCP</a> <a href="/tags/SED/" style="font-size: 15px;">SED</a> <a href="/tags/PPPoE/" style="font-size: 15px;">PPPoE</a> <a href="/tags/launchd/" style="font-size: 15px;">launchd</a> <a href="/tags/JNI/" style="font-size: 15px;">JNI</a> <a href="/tags/Activiti/" style="font-size: 15px;">Activiti</a> <a href="/tags/YouCompleteMe/" style="font-size: 15px;">YouCompleteMe</a> <a href="/tags/YCM/" style="font-size: 15px;">YCM</a> <a href="/tags/Auto-js/" style="font-size: 15px;">Auto.js</a> <a href="/tags/Curl/" style="font-size: 15px;">Curl</a> <a href="/tags/SHELL/" style="font-size: 15px;">SHELL</a> <a href="/tags/运维/" style="font-size: 15px;">运维</a> <a href="/tags/Skynet/" style="font-size: 15px;">Skynet</a> <a href="/tags/So/" style="font-size: 15px;">So</a> <a href="/tags/Apue/" style="font-size: 15px;">Apue</a> <a href="/tags/Rsync/" style="font-size: 15px;">Rsync</a> <a href="/tags/Thread/" style="font-size: 15px;">Thread</a> <a href="/tags/Docx4j/" style="font-size: 15px;">Docx4j</a> <a href="/tags/CentOS/" style="font-size: 15px;">CentOS</a> <a href="/tags/Lsyncd/" style="font-size: 15px;">Lsyncd</a> <a href="/tags/Pandas/" style="font-size: 15px;">Pandas</a> <a href="/tags/KVM/" style="font-size: 15px;">KVM</a> <a href="/tags/Node-js/" style="font-size: 15px;">Node.js</a> <a href="/tags/ffmpeg/" style="font-size: 15px;">ffmpeg</a> <a href="/tags/逆向/" style="font-size: 15px;">逆向</a> <a href="/tags/Aix/" style="font-size: 15px;">Aix</a> <a href="/tags/TCP-IP/" style="font-size: 15px;">TCP/IP</a> <a href="/tags/AWK/" style="font-size: 15px;">AWK</a> <a href="/tags/Iptables/" style="font-size: 15px;">Iptables</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/Syslog/" style="font-size: 15px;">Syslog</a> <a href="/tags/Tcpdump/" style="font-size: 15px;">Tcpdump</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Gowa2017 Zhang.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-137245514-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><<<<<<< Updated upstream<script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script><script>var disqus_shortname = 'gowa-1';
var disqus_identifier = 'RxJava/RxJava的一些基本概念及文档.html';
var disqus_title = 'RxJava的一些基本概念及文档';
var disqus_url = 'https://gowa2017.github.io/RxJava/RxJava的一些基本概念及文档.html';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//gowa-1.disqus.com/count.js" async></script><script type="text/javascript" src="//gowa-1.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html>