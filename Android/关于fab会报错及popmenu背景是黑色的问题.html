<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  
  <title>关于fab会报错及popmenu背景是黑色的问题 | 退思园</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="遇到一个问题，就是我以前用的是Activity继承的是 FragmentActivit，然后可以使用 getActivity()函数。而我换成AppCompactActivity后，就不能使用这个了，我就打算用this,或者getBaseContext来做上下文，结果就是popMenu居然背景变成黑色了，换了多个主题还是一样。后面发现了问题。">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="关于fab会报错及popmenu背景是黑色的问题">
<meta property="og:url" content="https://gowa.club/Android/关于fab会报错及popmenu背景是黑色的问题.html">
<meta property="og:site_name" content="退思园">
<meta property="og:description" content="遇到一个问题，就是我以前用的是Activity继承的是 FragmentActivit，然后可以使用 getActivity()函数。而我换成AppCompactActivity后，就不能使用这个了，我就打算用this,或者getBaseContext来做上下文，结果就是popMenu居然背景变成黑色了，换了多个主题还是一样。后面发现了问题。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-31T10:51:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于fab会报错及popmenu背景是黑色的问题">
<meta name="twitter:description" content="遇到一个问题，就是我以前用的是Activity继承的是 FragmentActivit，然后可以使用 getActivity()函数。而我换成AppCompactActivity后，就不能使用这个了，我就打算用this,或者getBaseContext来做上下文，结果就是popMenu居然背景变成黑色了，换了多个主题还是一样。后面发现了问题。">
  
    <link rel="alternate" href="/atom.xml" title="退思园" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">退思园</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">烦恼一般都是想太多了。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://gowa.club"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-关于fab会报错及popmenu背景是黑色的问题" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/Android/关于fab会报错及popmenu背景是黑色的问题.html" class="article-date">
  <time class="dt-published" datetime="2018-08-31T10:51:45.000Z" itemprop="datePublished">2018-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      关于fab会报错及popmenu背景是黑色的问题
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>遇到一个问题，就是我以前用的是Activity继承的是 FragmentActivit，然后可以使用 getActivity()函数。而我换成AppCompactActivity后，就不能使用这个了，我就打算用this,或者getBaseContext来做上下文，结果就是popMenu居然背景变成黑色了，换了多个主题还是一样。后面发现了问题。<br><a id="more"></a></p>
<h1 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h1><p>大多数时候，我们的View都需要一个上下文。当我们在建立一个View或者扩张一个布局文件的时候，都需要一个上下文。我们需要的屏幕信息，风格信息，都可以从Context内获取。</p>
<p>上面的问题，应该是我获取的上下文不对，所以会产生，与整体风格不一致的问题。</p>
<p>由于我是在 按钮的回调函数内，建立的菜单。很明显，在内部类里，我们时不能直接使用 <code>this</code>的，这个时候，正确的使用方式应该是<code>MainActivity.this</code>这样，换成这样的方式后，果然就正常了。</p>
<h1 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h1><p>这个上下文在应用存在期间，一直可用，所以对于生命周期长，或无法获取上下文的时候，可以使用这个来作为上下文。</p>
<p>在CodePath上有一篇文章进行了描述上下文：<a href="https://guides.codepath.com/android/Using-Context" target="_blank" rel="noopener">https://guides.codepath.com/android/Using-Context</a></p>
<h1 id="Context-用来做什么"><a href="#Context-用来做什么" class="headerlink" title="Context 用来做什么"></a>Context 用来做什么</h1><p>下面是一些例子。</p>
<h2 id="显式启动一个组件"><a href="#显式启动一个组件" class="headerlink" title="显式启动一个组件"></a>显式启动一个组件</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Provide context if MyActivity is an internal activity.</span></span><br><span class="line">Intent intent = <span class="keyword">new</span> Intent(context, MyActivity.class);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>当显式启动一个组件时候，我们需要两部分信息：</p>
<ul>
<li>包名，标识了包含这个组件的应用。</li>
<li>要启动组件的 完整引用Java类名</li>
</ul>
<p>如果是启动一个内部组件，context 参数可以传递为当前应用的包名，可通过 <code>context.getPackageName()</code>获取。</p>
<h2 id="建立视图（View）"><a href="#建立视图（View）" class="headerlink" title="建立视图（View）"></a>建立视图（View）</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TextView textView = <span class="keyword">new</span> TextView(context);</span><br></pre></td></tr></table></figure>
<p>Context 包含了视图需要的如下信息：</p>
<ul>
<li>设备尺寸，已经在 dp,sp 转换为 px的规格</li>
<li>风格属性</li>
<li>OnClick 属性引用的 Activity</li>
</ul>
<h2 id="扩张一个-XML-布局文件"><a href="#扩张一个-XML-布局文件" class="headerlink" title="扩张一个 XML 布局文件"></a>扩张一个 XML 布局文件</h2><p>当我们要把一个XML布局文件扩展到内存的时候，我们使用  Context 来获取 <code>LayoutInflater</code>。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A context is required when creating views.</span></span><br><span class="line"><span class="comment">// 建立视图的时候，会需要一个上下文</span></span><br><span class="line">LayoutInflater inflater = LayoutInflater.from(context);</span><br><span class="line">inflater.inflate(R.layout.my_layout, parent);</span><br></pre></td></tr></table></figure>
<h2 id="发送本地广播"><a href="#发送本地广播" class="headerlink" title="发送本地广播"></a>发送本地广播</h2><p>当我们发送广播或者注册广播接收者的时候，用Context 来获取 <code>LocalBroadcastManager</code>。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// The context contains a reference to the main Looper, </span></span><br><span class="line"><span class="comment">// which manages the queue for the application's main thread.</span></span><br><span class="line"><span class="comment">// context 包含了对 主 Looper 的引用</span></span><br><span class="line"><span class="comment">// Looper 管理应用主线程的队列。</span></span><br><span class="line">Intent broadcastIntent = <span class="keyword">new</span> Intent(<span class="string">"custom-action"</span>);</span><br><span class="line">LocalBroadcastManager.getInstance(context).sendBroadcast(broadcastIntent);</span><br></pre></td></tr></table></figure>
<h2 id="获取系统服务"><a href="#获取系统服务" class="headerlink" title="获取系统服务"></a>获取系统服务</h2><p>要想从一个应用发送通知，需要使用到 <code>NotificationManager</code> 系统服务。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Context objects are able to fetch or start system services.</span></span><br><span class="line">NotificationManager notificationManager = </span><br><span class="line">    (NotificationManager) getSystemService(NOTIFICATION_SERVICE);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> notificationId = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Context is required to construct RemoteViews</span></span><br><span class="line">Notification.Builder builder = </span><br><span class="line">    <span class="keyword">new</span> Notification.Builder(context).setContentTitle(<span class="string">"custom title"</span>);</span><br><span class="line"></span><br><span class="line">notificationManager.notify(notificationId, builder.build());</span><br></pre></td></tr></table></figure>
<h1 id="应用上下文-VS-Activity上下文"><a href="#应用上下文-VS-Activity上下文" class="headerlink" title="应用上下文 VS Activity上下文"></a>应用上下文 VS Activity上下文</h1><p>主题和风格多数时候都是使用在应用级别，但他们也可以在Activity级别进行使用。在这种方式下，某个Activity就可以和其他的Activity有不同的风格（比如，需要隐藏ActivonBar等等）。<code>AndroidManifest.xml</code>中在  Application中有一个属性 <code>android:theme</code>，同样，这个属性可以用在 Activity上：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:allowBackup</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:icon</span>=<span class="string">"@mipmap/ic_launcher"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme"</span> &gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:name</span>=<span class="string">".MainActivity"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:theme</span>=<span class="string">"@style/MyCustomTheme"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>因为这个原因，所以我们要明白，我们会拥有一个 Application Context 和 Activity Context，上下文存在于他们对应的生命周期中。大多数 Views应该传递一个 Activity Context 来获得需要的 主题，风格，规格等信息。如果 Activity 并没有使用主题，那么默认使用 Application使用的。</p>
<p>大多数情况下，应该使用 Activity Context。正常情况下，Java 中的 <code>this</code> 引用了一个类的实例，因此可是在一个Activity中来用在 需要 Context 的地方。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);  </span><br><span class="line">        Toast.makeText(<span class="keyword">this</span>, <span class="string">"hello"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>当使用匿名函数来实现  监听器时， Java中的 <code>this</code> 使用在最近被声明的类上。在这种情况下，外层的类 <code>MainActivity</code> 必须指开来表明其引用的是 MainActivity 实例。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        TextView tvTest = (TextView) findViewById(R.id.abc);</span><br><span class="line">        tvTest.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">              <span class="meta">@Override</span></span><br><span class="line">              <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                  Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"hello"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">## 适配器</span><br><span class="line">### 数组适配器</span><br><span class="line">当为一各ListView构造适配器的时候， 典型的会在 布局扩张过程中调用 `getContext()`。这个方法，经常使用初始化 ArrayAdapter 的Context。</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">     <span class="keyword">if</span> (convertView == <span class="keyword">null</span>) &#123;</span><br><span class="line">        convertView = </span><br><span class="line">            LayoutInflater</span><br><span class="line">                .from(getContext())</span><br><span class="line">                .inflate(R.layout.item_user, parent, <span class="keyword">false</span>);</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>如果你使用  Application Context来初始化 ArrayAdapter，你会发现，主题/风格并没有被应用。因此，确定你传递的是一个 Activity Context。</p>
<h3 id="RecyclerView-Adapter"><a href="#RecyclerView-Adapter" class="headerlink" title="RecyclerView Adapter"></a>RecyclerView Adapter</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRecyclerAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">MyRecyclerAdapter</span>.<span class="title">ViewHolder</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span> </span>&#123;</span><br><span class="line">        View v = </span><br><span class="line">            LayoutInflater</span><br><span class="line">                .from(parent.getContext())</span><br><span class="line">                .inflate(R.layout.itemLayout, parent, <span class="keyword">false</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ViewHolder(v);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(ViewHolder viewHolder, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// If a context is needed, it can be retrieved </span></span><br><span class="line">        <span class="comment">// from the ViewHolder's root view.</span></span><br><span class="line">        Context context = viewHolder.itemView.getContext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Dynamically add a view using the context provided.</span></span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) &#123;</span><br><span class="line">            TextView tvMessage = <span class="keyword">new</span> TextView(context);</span><br><span class="line">            tvMessage.setText(<span class="string">"Only displayed for the first item."</span>)</span><br><span class="line"></span><br><span class="line">            viewHolder.customViewGroup.addView(tvMessage);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line">       <span class="keyword">public</span> FrameLayout customViewGroup;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">ViewHolder</span><span class="params">(view imageView)</span> </span>&#123;</span><br><span class="line">           <span class="comment">// Very important to call the parent constructor</span></span><br><span class="line">           <span class="comment">// as this ensures that the imageView field is populated.</span></span><br><span class="line">           <span class="keyword">super</span>(imageView);</span><br><span class="line">           </span><br><span class="line">           <span class="comment">// Perform other view lookups.</span></span><br><span class="line">           customViewGroup = (FrameLayout) imageView.findById(R.id.customViewGroup);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ArrayAdapter 需要一个上下文传递到其构造器，而<code>RecyclerView.Adapter</code>不需要。因为其会在扩张必要的时候，可以从父布局那里推测出来正确的上下文。</p>
<p>相关的 <code>RecyclerView</code> 总是会把其自身作为 <code>RecyclerView.Adapter.onCreateViewHolder()</code>的父视图传递。</p>
<p>如果在 <code>onCreateViewHolder()</code>外需要使用上下文，而这里又有一个<code>ViewHolder</code>实例变量，就可以通过  <code>viewHolder.itemView.getContext()</code>来获取上下文。在基本的 ViewHolder类中，<code>itemView</code> 是一个 <code>public, non-null, final</code>字段。</p>
<h2 id="避免内存泄漏"><a href="#避免内存泄漏" class="headerlink" title="避免内存泄漏"></a>避免内存泄漏</h2><p>Application Context 典型的用在单例实例需要被创建的时候，比如一个自定义的管理类需要 Context 信息来获取对系统服务的访问，但是其会在多个Activity中使用。因为对Activity Context的引用会导致那个Activity 在其停止后内存不会被释放，这就必须使用  Application Context。</p>
<p>下面的例子中，如果被存储的 <em>context</em> 是一个 Activity或Service，其在被安卓系统销毁后，并不会被垃圾回收器回收。因为 <code>CustomManager</code> 持有了对它的一个静态引用。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> CustomManager sInstance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> CustomManager <span class="title">getInstance</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// This class will hold a reference to the context</span></span><br><span class="line">            <span class="comment">// until it's unloaded. The context could be an Activity or Service.</span></span><br><span class="line">            sInstance = <span class="keyword">new</span> CustomManager(context);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">CustomManager</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        mContext = context;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="适当的存储一个Context-使用-Application-Context"><a href="#适当的存储一个Context-使用-Application-Context" class="headerlink" title="适当的存储一个Context:使用  Application Context"></a>适当的存储一个Context:使用  Application Context</h2><p>为了避免内存泄漏，不要在其生命周期外持有对它的引用。检查所有你的背景线程，过起的handlers，及内部类，看看他们是不是会持有上下文引用。</p>
<p>正确的方式是在<code>CustomManager.getInstance()</code>中存储 Application Context。应用上下文是单例的，且其与应用进程的生命周期相绑定。</p>
<p>当需要一个在组件的生命周期外引用其上下文时，使用 应用上下文。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> CustomManager <span class="title">getInstance</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// When storing a reference to a context, use the application context.</span></span><br><span class="line">        <span class="comment">// Never store the context itself, which could be a component.</span></span><br><span class="line">        sInstance = <span class="keyword">new</span> CustomManager(context.getApplicationContext());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sInstance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gowa.club/Android/关于fab会报错及popmenu背景是黑色的问题.html" data-id="ck2k5hhyb00qqgm036xxeloqr" data-title="关于fab会报错及popmenu背景是黑色的问题" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/Cocos-Creator/Cocos-Creator浏览器正常，打包apk错误的问题.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Cocos-Creator浏览器正常，打包apk错误的问题
        
      </div>
    </a>
  
  
    <a href="/Android/android使用AppCompatActivity添加应用操作栏.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">android使用AppCompatActivity添加应用操作栏</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/Android/Hooking-Linux中的共享库函数.html">Hooking-Linux中的共享库函数</a>
          </li>
        
          <li>
            <a href="/Android/Riru来注入Zygote进程.html">Riru来注入Zygote进程</a>
          </li>
        
          <li>
            <a href="/Android/Android的权限检查过程.html">Android的权限检查过程</a>
          </li>
        
          <li>
            <a href="/Android/Android的服务管理.html">Android的服务管理</a>
          </li>
        
          <li>
            <a href="/Cpp/使用Clang进行交叉编译.html">使用Clang进行交叉编译</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Asm/">Asm</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cocos-Creator/">Cocos Creator</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cocos2d-X/">Cocos2d-X</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cpp/">Cpp</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Device/">Device</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GTD/">GTD</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/">Golang</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">42</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kindle/">Kindle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Unix/">Linux/Unix</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lua/">Lua</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Misc/">Misc</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RxJava/">RxJava</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP/IP</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vim/">Vim</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/macOS/">macOS</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">25</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AWK/" style="font-size: 10px;">AWK</a> <a href="/tags/Activiti/" style="font-size: 10px;">Activiti</a> <a href="/tags/Aix/" style="font-size: 10.63px;">Aix</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Apue/" style="font-size: 11.88px;">Apue</a> <a href="/tags/Asm/" style="font-size: 11.88px;">Asm</a> <a href="/tags/Auto-js/" style="font-size: 10px;">Auto.js</a> <a href="/tags/CentOS/" style="font-size: 11.88px;">CentOS</a> <a href="/tags/Cocos-Creator/" style="font-size: 12.5px;">Cocos Creator</a> <a href="/tags/Cocos2d-X/" style="font-size: 13.13px;">Cocos2d-X</a> <a href="/tags/Cpp/" style="font-size: 11.88px;">Cpp</a> <a href="/tags/Curl/" style="font-size: 10.63px;">Curl</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/Dagger/" style="font-size: 12.5px;">Dagger</a> <a href="/tags/Device/" style="font-size: 10px;">Device</a> <a href="/tags/Docx/" style="font-size: 14.38px;">Docx</a> <a href="/tags/Docx4j/" style="font-size: 10px;">Docx4j</a> <a href="/tags/F5/" style="font-size: 10px;">F5</a> <a href="/tags/GTD/" style="font-size: 10px;">GTD</a> <a href="/tags/Git/" style="font-size: 12.5px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Golang/" style="font-size: 10.63px;">Golang</a> <a href="/tags/Gson/" style="font-size: 10.63px;">Gson</a> <a href="/tags/Hooking/" style="font-size: 10px;">Hooking</a> <a href="/tags/Iptables/" style="font-size: 10px;">Iptables</a> <a href="/tags/JNI/" style="font-size: 10px;">JNI</a> <a href="/tags/Java/" style="font-size: 19.38px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/KVM/" style="font-size: 10px;">KVM</a> <a href="/tags/Kindle/" style="font-size: 10.63px;">Kindle</a> <a href="/tags/LVM/" style="font-size: 10.63px;">LVM</a> <a href="/tags/Linux/" style="font-size: 18.75px;">Linux</a> <a href="/tags/Lsyncd/" style="font-size: 10px;">Lsyncd</a> <a href="/tags/Lua/" style="font-size: 18.13px;">Lua</a> <a href="/tags/MFC/" style="font-size: 13.13px;">MFC</a> <a href="/tags/ML/" style="font-size: 10px;">ML</a> <a href="/tags/MVP/" style="font-size: 10.63px;">MVP</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MySQL/" style="font-size: 16.88px;">MySQL</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/OSPF/" style="font-size: 10px;">OSPF</a> <a href="/tags/Oracle/" style="font-size: 14.38px;">Oracle</a> <a href="/tags/Oralce/" style="font-size: 10px;">Oralce</a> <a href="/tags/PAC/" style="font-size: 10px;">PAC</a> <a href="/tags/PIL/" style="font-size: 15.63px;">PIL</a> <a href="/tags/PPPoE/" style="font-size: 10px;">PPPoE</a> <a href="/tags/Pandas/" style="font-size: 10.63px;">Pandas</a> <a href="/tags/Php/" style="font-size: 10px;">Php</a> <a href="/tags/Poi/" style="font-size: 11.25px;">Poi</a> <a href="/tags/Pomelo/" style="font-size: 11.25px;">Pomelo</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Python/" style="font-size: 14.38px;">Python</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/Raid/" style="font-size: 10px;">Raid</a> <a href="/tags/RegEx/" style="font-size: 10px;">RegEx</a> <a href="/tags/Retrofit/" style="font-size: 11.88px;">Retrofit</a> <a href="/tags/Room/" style="font-size: 10px;">Room</a> <a href="/tags/Rsync/" style="font-size: 10px;">Rsync</a> <a href="/tags/RxJava/" style="font-size: 15px;">RxJava</a> <a href="/tags/SED/" style="font-size: 11.25px;">SED</a> <a href="/tags/SHELL/" style="font-size: 10.63px;">SHELL</a> <a href="/tags/SSH/" style="font-size: 11.25px;">SSH</a> <a href="/tags/Shell/" style="font-size: 13.13px;">Shell</a> <a href="/tags/Skynet/" style="font-size: 12.5px;">Skynet</a> <a href="/tags/So/" style="font-size: 10px;">So</a> <a href="/tags/Spring/" style="font-size: 11.25px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 11.25px;">SpringMVC</a> <a href="/tags/Sqlplus/" style="font-size: 10.63px;">Sqlplus</a> <a href="/tags/Svn/" style="font-size: 10.63px;">Svn</a> <a href="/tags/Syslog/" style="font-size: 10px;">Syslog</a> <a href="/tags/TCP-IP/" style="font-size: 12.5px;">TCP/IP</a> <a href="/tags/Tbs/" style="font-size: 10px;">Tbs</a> <a href="/tags/Tcpdump/" style="font-size: 10px;">Tcpdump</a> <a href="/tags/TensorFlow/" style="font-size: 13.75px;">TensorFlow</a> <a href="/tags/The-Java-Tutorial/" style="font-size: 13.13px;">The Java Tutorial</a> <a href="/tags/Thread/" style="font-size: 11.25px;">Thread</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/VIM/" style="font-size: 10px;">VIM</a> <a href="/tags/VNC/" style="font-size: 11.25px;">VNC</a> <a href="/tags/Vim/" style="font-size: 13.13px;">Vim</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Windows/" style="font-size: 17.5px;">Windows</a> <a href="/tags/X5/" style="font-size: 10px;">X5</a> <a href="/tags/YCM/" style="font-size: 10px;">YCM</a> <a href="/tags/YouCompleteMe/" style="font-size: 10px;">YouCompleteMe</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/brew/" style="font-size: 11.88px;">brew</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/launchd/" style="font-size: 10px;">launchd</a> <a href="/tags/macOS/" style="font-size: 13.75px;">macOS</a> <a href="/tags/networksetup/" style="font-size: 10px;">networksetup</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/数据库/" style="font-size: 13.75px;">数据库</a> <a href="/tags/磁盘阵列/" style="font-size: 10px;">磁盘阵列</a> <a href="/tags/设备信息查看/" style="font-size: 10px;">设备信息查看</a> <a href="/tags/负载均衡/" style="font-size: 10px;">负载均衡</a> <a href="/tags/运维/" style="font-size: 17.5px;">运维</a> <a href="/tags/逆向/" style="font-size: 16.25px;">逆向</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">9</span></li></ul>
    </div>
  </div>


  
</aside>

        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Gowa2017 Zhang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="/js/jquery-3.4.1.min.js"></script>


  <script src="/fancybox/jquery.fancybox.min.js"></script>


<script src="/js/script.js"></script>




  </div>
</body>
</html>